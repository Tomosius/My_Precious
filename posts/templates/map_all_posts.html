
    <div class="container">
        <h3>All Posts Map</h3>
        <div id="map" style="height: 400px; width: 100%;"></div>
    </div>

    <script>
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 6,
                center: { lat: 52.23635026009495, lng: 0.05784246226898956 }  // Default center
            });

            // Loop through each post and add a marker
            {% for post in posts %}
            var marker{{ forloop.counter }} = new google.maps.Marker({
                position: { lat: {{ post.latitude }}, lng: {{ post.longitude }} },
                map: map,
                title: "{{ post.title }}"
            });

            {% endfor %}
        }
    </script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key={{ GOOGLE_MAPS_API_KEY }}&callback=initMap"></script>
